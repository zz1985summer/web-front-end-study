<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
<div class="container">
<h1>我的购物车</h1>
<button class="btn btn-primary" id="bt-add">添加新的商品</button>
<hr>
<table class="table table-striped table-hover table-bordered">
    <thead>
    <tr>
        <th>单价</th>
        <th>数量</th>
        <th>小计</th>
        <th>操作</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>5.50</td>
        <td>2</td>
        <td>11.00</td>
        <td><span>X</span></td>
    </tr>
    <tr>
        <td>3.80</td>
        <td>1</td>
        <td>3.80</td>
        <td><span>X</span></td>
    </tr>
    </tbody>
    <tfoot>
    <tr>
        <td colspan="4" class="text-right">总计：<span id="total">14.80</span></td>
    </tr>
    </tfoot>
</table>
</div>

<script src="js/jquery-2.1.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<script>
    //单击添加新商品
    $('#bt-add').click(function(){
        var price=Math.random()*100;
        price=price.toFixed(2);

        var count=1;
        var html=`
            <tr>
                <td>${price}</td>
                <td>${count}</td>
                <td>${price*count}</td>
                <td><span>X</span></td>
            </tr>
        `;
        $('tbody').append(html);
        $('#total').html(getTotal());
    });
    //删除商品
    $('table tr td:nth-child(4)').click(function(){
        $(this).parent().remove();
        $('#total').html(getTotal());
    });




    //公用计算当前商品的总金额
    function getTotal(){
        //读取每行第3个td内容相jia
        var total=0;
        $('tbody tr td:nth-child(3)').each(function(i,obj){
            total+=parseFloat(obj.innerHTML);
        })

        return total.toFixed(2);
    }
</script>
</body>
</html>